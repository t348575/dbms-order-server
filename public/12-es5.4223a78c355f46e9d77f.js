!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{x5bZ:function(r,n,i){"use strict";i.r(n),i.d(n,"RegisterPageModule",(function(){return K}));var o=i("ofXK"),a=i("3Pt+"),s=i("TEn/"),l=i("tyNb"),c=i("2g2N"),u=i("fXoL"),p=i("lGQG"),m=i("tk/3"),h=function(){this.type="alfa",this.decimal=2,this.decimalCaracter=",",this.userCaracters=!1,this.numberAndTousand=!1,this.moneyInitHasInt=!0},b=function(){function e(e,t){this.controlContainer=e,this.elementRef=t,this.brmasker=new h}return e.prototype.inputKeyup=function(e){var t=this.returnValue(e.target.value);this.setValueInFormControl(t)},e.prototype.onNgModelChange=function(e){var t=this.returnValue(e);t&&this.setValueInFormControl(t,!1)},e.prototype.ngOnInit=function(){this.brmasker.type||(this.brmasker.type="all"),this.brmasker.decimal||(this.brmasker.decimal=2),void 0===this.brmasker.moneyInitHasInt&&(this.brmasker.moneyInitHasInt=!0),this.brmasker.decimalCaracter||(this.brmasker.decimalCaracter=","),this.controlContainer?this.formControlName?this.brmasker.form=this.controlContainer.control.get(this.formControlName):console.warn("Missing FormControlName directive from host element of the component"):console.warn("Can't find parent FormGroup directive"),this.initialValue()},e.prototype.initialValue=function(){var e=this.returnValue(this.elementRef.nativeElement.value);this.setValueInFormControl(e)},e.prototype.verifyFormControl=function(){return this.brmasker.form instanceof a.b},e.prototype.setValueInFormControl=function(e,t){this.verifyFormControl()?(this.brmasker.form.setValue(e,{emitViewToModelChange:t}),this.brmasker.form.updateValueAndValidity()):this.elementRef.nativeElement.value=e},e.prototype.writeCreateValue=function(e,t){return void 0===t&&(t=new h),e&&t.phone?e.replace(/^(?:(?:\+|00)?(55)\s?)?(?:\(?([1-9][0-9])\)?\s?)?(?:((?:9\d|[2-9])\d{3})\-?(\d{4}))$/gi,"$1 ($2) $3-$4"):e&&t.phoneNotDDD?this.phoneNotDDDMask(e):e&&t.money?this.writeValueMoney(e,t):e&&t.person?this.writeValuePerson(e):e&&t.percent?this.writeValuePercent(e):this.brmasker.userCaracters?this.usingSpecialCharacters(e,this.brmasker.mask,this.brmasker.len):e&&t.mask?(this.brmasker.mask=t.mask,t.len&&(this.brmasker.len=t.len),this.onInput(e)):e},e.prototype.writeValuePercent=function(e){return e.replace(/\D/gi,""),e.replace(/%/gi,""),e.replace(/([0-9]{0})$/gi,"%$1")},e.prototype.writeValuePerson=function(e){return e.length<=11?e.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/gi,"$1.$2.$3-$4"):e.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/gi,"$1.$2.$3/$4-$5")},e.prototype.writeValueMoney=function(e,t){return void 0===t&&(t=new h),this.moneyMask(e,t)},e.prototype.returnValue=function(e){if(this.brmasker.mask||(this.brmasker.mask=""),e){var t=e;return"alfa"===this.brmasker.type&&(t=t.replace(/\d/gi,"")),"num"===this.brmasker.type&&(t=t.replace(/\D/gi,"")),this.brmasker.money?this.moneyMask(this.onInput(t),this.brmasker):this.brmasker.phone?this.phoneMask(t):this.brmasker.phoneNotDDD?this.phoneNotDDDMask(t):this.brmasker.person?this.peapollMask(t):this.brmasker.percent?this.percentMask(t):this.brmasker.numberAndTousand?this.thousand(t):this.brmasker.userCaracters?this.usingSpecialCharacters(t,this.brmasker.mask,this.brmasker.len):this.onInput(t)}return""},e.prototype.applyCpfMask=function(e){return(e=(e=(e=e.replace(/\D/gi,"")).replace(/(\d{3})(\d)/gi,"$1.$2")).replace(/(\d{3})(\d)/gi,"$1.$2")).replace(/(\d{3})(\d{1,2})$/gi,"$1-$2")},e.prototype.applyCnpjMask=function(e){return(e=(e=(e=(e=(e=e.replace(/\D/gi,"")).replace(/(\d{2})(\d)/gi,"$1.$2")).replace(/(\d{3})(\d)/gi,"$1.$2")).replace(/(\d{3})(\d)/gi,"$1/$2")).replace(/(\d{4})(\d{1,4})$/gi,"$1-$2")).replace(/(\d{2})(\d{1,2})$/gi,"$1$2")},e.prototype.percentMask=function(e){return e.replace(/\D/gi,"").replace(/%/gi,"").replace(/([0-9]{0})$/gi,"%$1")},e.prototype.phoneMask=function(e){var t=e;return t.length>14||11===t.length?(this.brmasker.len=15,this.brmasker.mask="(99) 99999-9999",t=(t=(t=(t=t.replace(/\D/gi,"")).replace(/(\d{2})(\d)/gi,"$1 $2")).replace(/(\d{5})(\d)/gi,"$1-$2")).replace(/(\d{4})(\d)/gi,"$1$2")):(this.brmasker.len=14,this.brmasker.mask="(99) 9999-9999",t=(t=(t=(t=t.replace(/\D/gi,"")).replace(/(\d{2})(\d)/gi,"$1 $2")).replace(/(\d{4})(\d)/gi,"$1-$2")).replace(/(\d{4})(\d)/gi,"$1$2")),this.onInput(t)},e.prototype.phoneNotDDDMask=function(e){var t=e;return t.length>9?(this.brmasker.len=10,this.brmasker.mask="99999-9999",t=(t=(t=t.replace(/\D/gi,"")).replace(/(\d{5})(\d)/gi,"$1-$2")).replace(/(\d{4})(\d)/gi,"$1$2")):(this.brmasker.len=9,this.brmasker.mask="9999-9999",t=(t=(t=t.replace(/\D/gi,"")).replace(/(\d{4})(\d)/gi,"$1-$2")).replace(/(\d{4})(\d)/gi,"$1$2")),this.onInput(t)},e.prototype.peapollMask=function(e){var t=e;return t.length>=14?14===t.length&&t.indexOf("-")>0?(this.brmasker.len=14,this.brmasker.mask="999.999.999-99",t=this.applyCpfMask(t)):(this.brmasker.len=18,this.brmasker.mask="99.999.999/9999-99",t=this.applyCnpjMask(t)):(this.brmasker.len=14,this.brmasker.mask="999.999.999-99",t=this.applyCpfMask(t)),this.onInput(t)},e.prototype.moneyMask=function(e,t){var r=t.decimal||this.brmasker.decimal;if(1===(e=e.replace(/\D/gi,"").replace(new RegExp("([0-9]{"+r+"})$","g"),t.decimalCaracter+"$1")).length&&!this.brmasker.moneyInitHasInt){var n=Array(r-1).fill(0);return"0"+t.decimalCaracter+n.join("")+e}return e.length===r+1?"0"+e:e.length>r+2&&"0"===e.charAt(0)?e.substr(1):(t.thousand&&e.length>Number(4)+Number(t.decimal)&&(e=e.replace(new RegExp("([0-9]{3})"+t.decimalCaracter+"([0-9]{"+t.decimal+"}$)","g"),t.thousand+"$1"+t.decimalCaracter+"$2")),t.thousand&&e.length>Number(8)+Number(t.decimal)&&(e=e.replace(new RegExp("([0-9]{3})"+t.thousand+"([0-9]{3})"+t.decimalCaracter+"([0-9]{"+t.decimal+"}$)","g"),t.thousand+"$1"+t.thousand+"$2"+t.decimalCaracter+"$3")),e)},e.prototype.onInput=function(e){return this.formatField(e,this.brmasker.mask,this.brmasker.len)},e.prototype.usingSpecialCharacters=function(e,t,r){r||(r=99999999999);for(var n=e.toString().replace(/\-|\.|\,| /gi,""),i=0,o="",a=n.length,s=0;s<a;s++)s<r&&("-"===t.charAt(s)||"."===t.charAt(s)||","===t.charAt(s)?(o+=t.charAt(s),a++):(o+=n.charAt(i),i++));return o},e.prototype.thousand=function(e){var t=e.replace(/\D/gi,"").toString().split("").reverse().join("").match(/\d{1,3}/g);if(t)return t.join(""+(this.brmasker.thousand||".")).split("").reverse().join("")},e.prototype.formatField=function(e,t,r){r||(r=99999999999);for(var n=e.toString().replace(/\_|\-|\.|\/|\(|\)|\,|\*|\+|\@|\#|\$|\&|\%|\:| /gi,""),i=0,o="",a=n.length,s=0;s<a;s++)s<r&&("-"===t.charAt(s)||"."===t.charAt(s)||"/"===t.charAt(s)||"_"===t.charAt(s)||"("===t.charAt(s)||")"===t.charAt(s)||" "===t.charAt(s)||","===t.charAt(s)||"*"===t.charAt(s)||"+"===t.charAt(s)||"@"===t.charAt(s)||"#"===t.charAt(s)||":"===t.charAt(s)||"$"===t.charAt(s)||"&"===t.charAt(s)||"%"===t.charAt(s)?(o+=t.charAt(s),a++):(o+=n.charAt(i),i++));return o},e.\u0275fac=function(t){return new(t||e)(u.Hb(a.d,13),u.Hb(u.l))},e.\u0275dir=u.Cb({type:e,selectors:[["","brmasker",""]],hostBindings:function(e,t){1&e&&u.Sb("keyup",(function(e){return t.inputKeyup(e)}))("ngModelChange",(function(e){return t.onNgModelChange(e)}))},inputs:{brmasker:"brmasker",formControlName:"formControlName"}}),e.\u0275prov=u.Db({token:e,factory:function(t){return e.\u0275fac(t)}}),e}(),d=function(){function e(){}return e.\u0275mod=u.Fb({type:e}),e.\u0275inj=u.Eb({factory:function(t){return new(t||e)},imports:[[o.b]]}),e}(),f=["datePicker"];function g(e,t){if(1&e&&(u.Kb(0,"ion-select-option",21),u.ec(1),u.Jb()),2&e){var r=t.$implicit;u.Xb("value",r.dial_code),u.xb(1),u.gc("",r.name,", ",r.dial_code,"")}}var k,y,$,v=function(){return{type:"num",mask:"999-999-9999"}},C=function(){return["/login"]},w=[{path:"",component:(k=function(){function r(t,n,i,o){var s=this;e(this,r),this.formBuilder=t,this.auth=n,this.http=i,this.cdr=o,this.countries=[],this.form=t.group({email:["",[a.l.required,a.l.email]],name:["",a.l.required],dob:["",a.l.required],phone:["",a.l.required],password:["",a.l.required],rePassword:["",a.l.required],address:["",a.l.required],code:["",a.l.required]},{validator:this.ConfirmedValidator("password","rePassword")}),this.http.get("./assets/countries.json").subscribe((function(e){s.countries=e,s.countries=s.countries.filter((function(e){return null!==e.dial_code&&e.dial_code.length<5})),s.http.get("https://extreme-ip-lookup.com/json/").subscribe((function(e){s.form.get("code").setValue(s.countries[s.countries.findIndex((function(t){return t.code===e.countryCode}))].dial_code)}))}))}var n,i,o;return n=r,(i=[{key:"ngAfterViewInit",value:function(){var e=new Date((new Date).setFullYear((new Date).getFullYear()-18));this.datePicker.value="".concat(e.getDate(),"-").concat(e.getMonth(),"-").concat(e.getFullYear()),this.cdr.detectChanges()}},{key:"ConfirmedValidator",value:function(e,t){return function(r){var n=r.controls[t];n.errors&&!n.errors.confirmedValidator||n.setErrors(r.controls[e].value!==n.value?{confirmedValidator:!0}:null)}}},{key:"register",value:function(){if(this.form.valid){var e=this.form.getRawValue();e.phone=e.code.replace("+","")+e.phone.replace(/-/gi,"");var t=new Date(e.dob);e.dob="".concat(t.getFullYear(),"-").concat(t.getMonth(),"-").concat(t.getDate()),this.auth.register(e.email,e.password,e.name,e.dob,e.phone,e.address).subscribe((function(e){e.status?c.a.toast(e.message,2500,"primary"):c.a.toast(e.message,3e3,"danger")}))}else this.form.get("rePassword").valid?c.a.toast("Form not filled out!",3e3,"danger"):c.a.toast("Passwords do not match!",3e3,"danger")}}])&&t(n.prototype,i),o&&t(n,o),r}(),k.\u0275fac=function(e){return new(e||k)(u.Hb(a.a),u.Hb(p.a),u.Hb(m.b),u.Hb(u.h))},k.\u0275cmp=u.Bb({type:k,selectors:[["app-register"]],viewQuery:function(e,t){var r;1&e&&u.hc(f,!0),2&e&&u.Zb(r=u.Tb())&&(t.datePicker=r.first)},decls:51,vars:7,consts:[[1,"full-height","full-width"],["autocomplete","on",3,"formGroup","ngSubmit"],["size-sm","4","size","12","offset-sm","2","offset","0"],["position","floating"],["type","email","formControlName","email"],[1,"ion-no-padding"],["size","3"],["formControlName","code",3,"selectedText"],[3,"value",4,"ngFor","ngForOf"],["size","9"],["type","text","formControlName","phone",3,"brmasker"],["size-sm","4","size","12"],["type","text","formControlName","name"],["display-format","DD-MM-YYYY","formControlName","dob"],["datePicker",""],["size-sm","4","size","12","offset-sm","4","offset","0"],["type","password","formControlName","password"],["type","password","formControlName","rePassword"],["type","text","formControlName","address"],["color","danger","fill","outline","type","submit",1,"ion-float-end"],["color","primary","fill","outline",1,"ion-float-end",3,"routerLink"],[3,"value"]],template:function(e,t){1&e&&(u.Kb(0,"ion-content"),u.Kb(1,"ion-grid",0),u.Kb(2,"form",1),u.Sb("ngSubmit",(function(){return t.register()})),u.Kb(3,"ion-row"),u.Kb(4,"ion-col",2),u.Kb(5,"ion-item"),u.Kb(6,"ion-label",3),u.ec(7,"Email"),u.Jb(),u.Ib(8,"ion-input",4),u.Jb(),u.Kb(9,"ion-grid",5),u.Kb(10,"ion-row"),u.Kb(11,"ion-col",6),u.Kb(12,"ion-item"),u.Kb(13,"ion-label",3),u.ec(14,"Code"),u.Jb(),u.Kb(15,"ion-select",7),u.dc(16,g,2,3,"ion-select-option",8),u.Jb(),u.Jb(),u.Jb(),u.Kb(17,"ion-col",9),u.Kb(18,"ion-item"),u.Kb(19,"ion-label",3),u.ec(20,"Phone"),u.Jb(),u.Ib(21,"ion-input",10),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Kb(22,"ion-col",11),u.Kb(23,"ion-item"),u.Kb(24,"ion-label",3),u.ec(25,"Name"),u.Jb(),u.Ib(26,"ion-input",12),u.Jb(),u.Kb(27,"ion-item"),u.Kb(28,"ion-label",3),u.ec(29,"Date of birth"),u.Jb(),u.Ib(30,"ion-datetime",13,14),u.Jb(),u.Jb(),u.Jb(),u.Kb(32,"ion-row"),u.Kb(33,"ion-col",15),u.Kb(34,"ion-item"),u.Kb(35,"ion-label",3),u.ec(36,"Password"),u.Jb(),u.Ib(37,"ion-input",16),u.Jb(),u.Kb(38,"ion-item"),u.Kb(39,"ion-label",3),u.ec(40,"Repeat password"),u.Jb(),u.Ib(41,"ion-input",17),u.Jb(),u.Kb(42,"ion-item"),u.Kb(43,"ion-label",3),u.ec(44,"Address"),u.Jb(),u.Ib(45,"ion-textarea",18),u.Jb(),u.Ib(46,"br"),u.Kb(47,"ion-button",19),u.ec(48,"Sign Up"),u.Jb(),u.Kb(49,"ion-button",20),u.ec(50,"Login"),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Jb()),2&e&&(u.xb(2),u.Xb("formGroup",t.form),u.xb(13),u.Xb("selectedText",t.form.get("code").value.split(",")[0]),u.xb(1),u.Xb("ngForOf",t.countries),u.xb(5),u.Xb("brmasker",u.Yb(5,v)),u.xb(28),u.Xb("routerLink",u.Yb(6,C)))},directives:[s.i,s.k,a.m,a.i,a.d,s.t,s.h,s.p,s.q,s.o,s.F,a.h,a.c,s.v,s.E,o.h,b,s.j,s.x,s.b,s.D,l.h,s.w],styles:[""]}),k)}],D=(($=function t(){e(this,t)}).\u0275mod=u.Fb({type:$}),$.\u0275inj=u.Eb({factory:function(e){return new(e||$)},imports:[[l.i.forChild(w)],l.i]}),$),K=((y=function t(){e(this,t)}).\u0275mod=u.Fb({type:y}),y.\u0275inj=u.Eb({factory:function(e){return new(e||y)},imports:[[o.b,a.e,a.k,s.z,D,d]]}),y)}}])}();
!function(){function e(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||t(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{WLUK:function(o,i,a){"use strict";a.r(i),a.d(i,"ProductsPageModule",(function(){return H}));var c=a("ofXK"),b=a("3Pt+"),l=a("TEn/"),d=a("tyNb"),s=a("mrSG"),u=a("lDzL"),p=a("Ahj+"),g=a("2g2N"),f=a("fXoL"),h=a("S3Px"),m=["image"];function O(e,t){if(1&e){var o=f.Pb();f.Ob(0,"div"),f.Ob(1,"ion-item"),f.Ob(2,"ion-label",3),f.sc(3,"Weight"),f.Nb(),f.Ob(4,"ion-input",5),f.Wb("ngModelChange",(function(e){return f.jc(o),f.Yb().product.prod_dim=e})),f.Nb(),f.Nb(),f.Nb()}if(2&e){var n=f.Yb();f.xb(4),f.dc("disabled",n.edit)("ngModel",n.product.prod_dim)}}function v(e,t){if(1&e){var o=f.Pb();f.Ob(0,"div"),f.Ob(1,"ion-item"),f.Ob(2,"ion-label",3),f.sc(3,"Length"),f.Nb(),f.Ob(4,"ion-input",5),f.Wb("ngModelChange",(function(e){return f.jc(o),f.Yb().product.prod_dim.y=e})),f.Nb(),f.Nb(),f.Ob(5,"ion-item"),f.Ob(6,"ion-label",3),f.sc(7,"Width"),f.Nb(),f.Ob(8,"ion-input",5),f.Wb("ngModelChange",(function(e){return f.jc(o),f.Yb().product.prod_dim.x=e})),f.Nb(),f.Nb(),f.Ob(9,"ion-item"),f.Ob(10,"ion-label",3),f.sc(11,"Height"),f.Nb(),f.Ob(12,"ion-input",5),f.Wb("ngModelChange",(function(e){return f.jc(o),f.Yb().product.prod_dim.z=e})),f.Nb(),f.Nb(),f.Ob(13,"ion-item"),f.Ob(14,"ion-label",3),f.sc(15,"Weight"),f.Nb(),f.Ob(16,"ion-input",5),f.Wb("ngModelChange",(function(e){return f.jc(o),f.Yb().product.prod_dim.w=e})),f.Nb(),f.Nb(),f.Nb()}if(2&e){var n=f.Yb();f.xb(4),f.dc("disabled",n.edit)("ngModel",n.product.prod_dim.y),f.xb(4),f.dc("disabled",n.edit)("ngModel",n.product.prod_dim.x),f.xb(4),f.dc("disabled",n.edit)("ngModel",n.product.prod_dim.z),f.xb(4),f.dc("disabled",n.edit)("ngModel",n.product.prod_dim.w)}}function N(e,t){if(1&e){var o=f.Pb();f.Ob(0,"ion-grid"),f.Ob(1,"ion-row"),f.Ob(2,"ion-col",20),f.Ob(3,"ion-item"),f.Ob(4,"ion-label",3),f.sc(5,"Name"),f.Nb(),f.Ob(6,"ion-input",21),f.Wb("ngModelChange",(function(e){return f.jc(o),t.$implicit.name=e})),f.Nb(),f.Nb(),f.Nb(),f.Ob(7,"ion-col",20),f.Ob(8,"ion-item"),f.Ob(9,"ion-label",3),f.sc(10,"Value"),f.Nb(),f.Ob(11,"ion-input",21),f.Wb("ngModelChange",(function(e){return f.jc(o),t.$implicit.value=e})),f.Nb(),f.Nb(),f.Nb(),f.Ob(12,"ion-col",22),f.Ob(13,"ion-button",23),f.Wb("click",(function(){f.jc(o);var e=t.index;return f.Yb().removeFeature(e)})),f.Kb(14,"ion-icon",24),f.Nb(),f.Nb(),f.Nb(),f.Nb()}if(2&e){var n=t.$implicit,i=f.Yb();f.xb(6),f.dc("disabled",i.edit)("ngModel",n.name),f.xb(5),f.dc("disabled",i.edit)("ngModel",n.value)}}var y,x=((y=function(){function e(t,o,i){n(this,e),this.productService=t,this.modalController=o,this.cdr=i,this.features=[],this.type="Single"}return r(e,[{key:"ngOnInit",value:function(){for(var e in this.features=[],this.product.prod_feat)this.features.push({name:e,value:this.product.prod_feat[e]});this.type=this.product.prod_type?"By weight":"Single",this.cdr.detectChanges()}},{key:"change",value:function(e,t){if("number"!=typeof this.product.prod_dim)switch(e){case"w":this.product.prod_dim.w=t.target.value;break;case"x":this.product.prod_dim.x=t.target.value;break;case"y":this.product.prod_dim.y=t.target.value;break;case"z":this.product.prod_dim.z=t.target.value}}},{key:"close",value:function(){this.modalController.dismiss()}},{key:"swapType",value:function(){this.product.prod_type?(this.type="By weight",this.product.prod_dim=0):(this.type="Single",this.product.prod_dim={x:0,y:0,z:0,w:0})}},{key:"upload",value:function(){var e=this;this.image.nativeElement.files&&this.image.nativeElement.files[0]&&this.productService.uploadImage(this.image.nativeElement.files[0],this.product.prod_id).subscribe((function(){e.image.nativeElement.value="",e.productService.getProductsByID([e.product.prod_id],1).subscribe((function(t){e.product=t[0],e.ngOnInit()}))}),(function(){g.a.toast("Image could not be uploaded!",3e3,"danger")}))}},{key:"addFeature",value:function(){this.features.push({name:"",value:""})}},{key:"removeFeature",value:function(e){this.features.splice(e,1)}},{key:"update",value:function(){var e=this;this.product.prod_feat={};var o,n=function(e,o){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=t(e))||o&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,b=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){b=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(b)throw a}}}}(this.features);try{for(n.s();!(o=n.n()).done;){var i=o.value;this.product.prod_feat[i.name]=i.value}}catch(r){n.e(r)}finally{n.f()}this.productService.updateProduct(this.product.prod_name,this.product.prod_desc,this.product.prod_stock,this.product.prod_dim,this.product.prod_feat,this.product.prod_price,this.product.prod_rating,"boolean"==typeof this.product.prod_type?+this.product.prod_type:this.product.prod_type,this.product.prod_id).subscribe((function(){e.productService.getProductsByID([e.product.prod_id],1).subscribe((function(t){e.product=t[0],e.ngOnInit()}))}),(function(){g.a.toast("Could not update product!",3e3,"danger")}))}}]),e}()).\u0275fac=function(e){return new(e||y)(f.Jb(h.a),f.Jb(l.I),f.Jb(f.h))},y.\u0275cmp=f.Db({type:y,selectors:[["app-view-detailed"]],viewQuery:function(e,t){var o;1&e&&f.wc(m,!0),2&e&&f.gc(o=f.Xb())&&(t.image=o.first)},inputs:{product:"product",edit:"edit"},decls:77,vars:21,consts:[["slot","end"],["fill","clear",1,"ion-float-right",3,"click"],["color","danger","slot","icon-only","name","close-circle-outline"],["position","floating"],["type","text","auto-grow","true",3,"disabled","ngModel","ngModelChange"],["type","number",3,"disabled","ngModel","ngModelChange"],[3,"ngModel","disabled","ngModelChange","ionChange"],[4,"ngIf"],["size","12"],[1,"full-width","full-height","center-middle"],["onerror","this.src='assets/alt-img.jpg'",2,"width","100px",3,"src"],["fill","outline",3,"disabled"],["lazy","true","slot","start","name","image"],["type","file","id","file-input","multiple","false","accept","image/png, image/jpeg",3,"disabled"],["image",""],[3,"disabled","click"],[4,"ngFor","ngForOf"],["fill","clear",1,"ion-float-right","margin-right",3,"disabled","click"],["name","add-circle","slot","icon-only","color","success"],[1,"ion-float-right","margin",3,"disabled","click"],["size","5"],["type","text",3,"disabled","ngModel","ngModelChange"],["size","2"],["fill","clear",3,"click"],["name","close-circle","slot","icon-only","color","danger"]],template:function(e,t){1&e&&(f.Ob(0,"ion-header"),f.Ob(1,"ion-toolbar"),f.Ob(2,"ion-title"),f.sc(3," Edit / View details "),f.Nb(),f.Ob(4,"ion-buttons",0),f.Ob(5,"ion-button",1),f.Wb("click",(function(){return t.close()})),f.Kb(6,"ion-icon",2),f.Nb(),f.Nb(),f.Nb(),f.Nb(),f.Ob(7,"ion-content"),f.Ob(8,"ion-item"),f.Ob(9,"ion-label"),f.sc(10),f.Nb(),f.Nb(),f.Kb(11,"br"),f.Ob(12,"ion-title"),f.sc(13,"Name"),f.Nb(),f.Ob(14,"ion-item"),f.Ob(15,"ion-label",3),f.sc(16,"Name"),f.Nb(),f.Ob(17,"ion-textarea",4),f.Wb("ngModelChange",(function(e){return t.product.prod_name=e})),f.Nb(),f.Nb(),f.Kb(18,"br"),f.Ob(19,"ion-title"),f.sc(20,"Description"),f.Nb(),f.Ob(21,"ion-item"),f.Ob(22,"ion-label",3),f.sc(23,"Description"),f.Nb(),f.Ob(24,"ion-textarea",4),f.Wb("ngModelChange",(function(e){return t.product.prod_desc=e})),f.Nb(),f.Nb(),f.Kb(25,"br"),f.Ob(26,"ion-title"),f.sc(27,"Stock"),f.Nb(),f.Ob(28,"ion-item"),f.Ob(29,"ion-label",3),f.sc(30,"Stock"),f.Nb(),f.Ob(31,"ion-input",5),f.Wb("ngModelChange",(function(e){return t.product.prod_stock=e})),f.Nb(),f.Nb(),f.Kb(32,"br"),f.Ob(33,"ion-title"),f.sc(34,"Price"),f.Nb(),f.Ob(35,"ion-item"),f.Ob(36,"ion-label",3),f.sc(37,"Price"),f.Nb(),f.Ob(38,"ion-input",5),f.Wb("ngModelChange",(function(e){return t.product.prod_price=e})),f.Nb(),f.Nb(),f.Kb(39,"br"),f.Ob(40,"ion-title"),f.sc(41,"Type"),f.Nb(),f.Ob(42,"ion-item"),f.Ob(43,"ion-label"),f.sc(44),f.Nb(),f.Ob(45,"ion-toggle",6),f.Wb("ngModelChange",(function(e){return t.product.prod_type=e}))("ionChange",(function(){return t.swapType()})),f.Nb(),f.Nb(),f.Kb(46,"br"),f.Ob(47,"ion-title"),f.sc(48,"Dimensions"),f.Nb(),f.qc(49,O,5,2,"div",7),f.qc(50,v,17,8,"div",7),f.Kb(51,"br"),f.Ob(52,"ion-title"),f.sc(53,"Image"),f.Nb(),f.Ob(54,"ion-item"),f.Ob(55,"ion-grid"),f.Ob(56,"ion-row"),f.Ob(57,"ion-col",8),f.Ob(58,"div",9),f.Kb(59,"img",10),f.Nb(),f.Nb(),f.Nb(),f.Ob(60,"ion-row"),f.Ob(61,"ion-col",8),f.Ob(62,"ion-button",11),f.Kb(63,"ion-icon",12),f.Kb(64,"input",13,14),f.Nb(),f.Ob(66,"ion-button",15),f.Wb("click",(function(){return t.upload()})),f.sc(67,"Change image"),f.Nb(),f.Nb(),f.Nb(),f.Nb(),f.Nb(),f.Kb(68,"br"),f.Ob(69,"ion-title"),f.sc(70,"Features"),f.Nb(),f.Ob(71,"ion-list"),f.qc(72,N,15,4,"ion-grid",16),f.Ob(73,"ion-button",17),f.Wb("click",(function(){return t.addFeature()})),f.Kb(74,"ion-icon",18),f.Nb(),f.Nb(),f.Ob(75,"ion-button",19),f.Wb("click",(function(){return t.update()})),f.sc(76,"Update details"),f.Nb(),f.Nb()),2&e&&(f.xb(10),f.uc("ID: ",t.product.prod_id,""),f.xb(7),f.dc("disabled",t.edit)("ngModel",t.product.prod_name),f.xb(7),f.dc("disabled",t.edit)("ngModel",t.product.prod_desc),f.xb(7),f.dc("disabled",t.edit)("ngModel",t.product.prod_stock),f.xb(7),f.dc("disabled",t.edit)("ngModel",t.product.prod_price),f.xb(6),f.tc(t.type),f.xb(1),f.dc("ngModel",t.product.prod_type)("disabled",t.edit),f.xb(4),f.dc("ngIf",t.product.prod_type),f.xb(1),f.dc("ngIf",!t.product.prod_type),f.xb(9),f.dc("src",t.product.prod_img,f.lc),f.xb(3),f.dc("disabled",t.edit),f.xb(2),f.dc("disabled",t.edit),f.xb(2),f.dc("disabled",t.edit),f.xb(6),f.dc("ngForOf",t.features),f.xb(1),f.dc("disabled",t.edit),f.xb(2),f.dc("disabled",t.edit))},directives:[l.k,l.E,l.C,l.d,l.c,l.l,l.h,l.n,l.o,l.B,l.N,b.g,b.i,l.m,l.J,l.D,l.b,c.k,l.j,l.v,l.g,l.p,c.j],styles:[""]}),y),_=a("lGQG"),w=["table"];function k(e,t){if(1&e&&(f.Ob(0,"ion-select-option",39),f.sc(1),f.Nb()),2&e){var o=t.$implicit;f.dc("value",o.value),f.xb(1),f.tc(o.name)}}function M(e,t){if(1&e&&(f.Ob(0,"ion-select-option",39),f.sc(1),f.Nb()),2&e){var o=t.$implicit;f.dc("value",o.value),f.xb(1),f.tc(o.name)}}function C(e,t){if(1&e&&(f.Ob(0,"ion-select-option",39),f.sc(1),f.Nb()),2&e){var o=t.$implicit;f.dc("value",o),f.xb(1),f.tc(o)}}function P(e,t){if(1&e&&(f.Ob(0,"ion-select-option",39),f.sc(1),f.Nb()),2&e){var o=t.$implicit;f.dc("value",o.value),f.xb(1),f.tc(o.name)}}function q(e,t){if(1&e){var o=f.Pb();f.Ob(0,"ion-item"),f.Ob(1,"ion-label",16),f.sc(2,"Column"),f.Nb(),f.Ob(3,"ion-select",36),f.Wb("ngModelChange",(function(e){return f.jc(o),f.Yb().$implicit.operateValue=e})),f.qc(4,P,2,2,"ion-select-option",34),f.Nb(),f.Nb()}if(2&e){var n=f.Yb().$implicit,i=f.Yb();f.xb(3),f.dc("ngModel",n.operateValue),f.xb(1),f.dc("ngForOf",i.columns)}}function W(e,t){if(1&e){var o=f.Pb();f.Ob(0,"ion-item"),f.Ob(1,"ion-label",16),f.sc(2,"Value"),f.Nb(),f.Ob(3,"ion-input",40),f.Wb("ngModelChange",(function(e){return f.jc(o),f.Yb().$implicit.operateValue=e})),f.Nb(),f.Nb()}if(2&e){var n=f.Yb().$implicit;f.xb(3),f.dc("ngModel",n.operateValue)}}function j(e,t){if(1&e){var o=f.Pb();f.Ob(0,"ion-row"),f.Ob(1,"ion-col",31),f.Ob(2,"ion-item"),f.Ob(3,"ion-label"),f.sc(4),f.Nb(),f.Nb(),f.Nb(),f.Ob(5,"ion-col",32),f.Ob(6,"ion-item"),f.Ob(7,"ion-label",16),f.sc(8,"Column"),f.Nb(),f.Ob(9,"ion-select",33),f.Wb("ngModelChange",(function(e){return f.jc(o),t.$implicit.column=e}))("ionChange",(function(){f.jc(o);var e=t.index;return f.Yb().columnChange(e)})),f.qc(10,k,2,2,"ion-select-option",34),f.Nb(),f.Nb(),f.Nb(),f.Ob(11,"ion-col",35),f.Ob(12,"ion-item"),f.Ob(13,"ion-label",16),f.sc(14,"Operator"),f.Nb(),f.Ob(15,"ion-select",36),f.Wb("ngModelChange",(function(e){return f.jc(o),t.$implicit.operator=e})),f.qc(16,M,2,2,"ion-select-option",34),f.Nb(),f.Nb(),f.Nb(),f.Ob(17,"ion-col",32),f.Ob(18,"ion-item"),f.Ob(19,"ion-label",16),f.sc(20,"Type"),f.Nb(),f.Ob(21,"ion-select",36),f.Wb("ngModelChange",(function(e){return f.jc(o),t.$implicit.operateOn=e})),f.qc(22,C,2,2,"ion-select-option",34),f.Nb(),f.Nb(),f.Nb(),f.Ob(23,"ion-col",35),f.qc(24,q,5,2,"ion-item",37),f.qc(25,W,4,1,"ion-item",37),f.Nb(),f.Ob(26,"ion-col",31),f.Ob(27,"div",38),f.Ob(28,"ion-button",1),f.Wb("click",(function(){f.jc(o);var e=t.index;return f.Yb().removeQuery(e)})),f.Kb(29,"ion-icon",2),f.Nb(),f.Nb(),f.Nb(),f.Nb()}if(2&e){var n=t.$implicit,i=t.index,r=f.Yb();f.xb(4),f.tc(i+1),f.xb(5),f.dc("ngModel",n.column),f.xb(1),f.dc("ngForOf",r.columns),f.xb(5),f.dc("ngModel",n.operator),f.xb(1),f.dc("ngForOf",n.operators),f.xb(5),f.dc("ngModel",n.operateOn),f.xb(1),f.dc("ngForOf",n.operatesOn),f.xb(2),f.dc("ngIf","column"===n.operateOn),f.xb(1),f.dc("ngIf","value"===n.operateOn)}}function S(e,t){if(1&e){var o=f.Pb();f.Ob(0,"p",41),f.sc(1),f.Kb(2,"br"),f.sc(3),f.Kb(4,"br"),f.Ob(5,"ion-button",20),f.Wb("click",(function(){f.jc(o);var e=t.row;return f.Yb().detailed(e)})),f.sc(6,"Edit / View detailed"),f.Nb(),f.Nb()}if(2&e){var n=t.row;f.xb(1),f.uc(" Product ID: ",n.prod_id," "),f.xb(2),f.uc(" Product Name: ",n.prod_name," ")}}function I(e,t){if(1&e){var o=f.Pb();f.Ob(0,"a",42),f.Wb("click",(function(){f.jc(o);var e=t.row;return f.Yb().toggleExpandRow(e)})),f.sc(1),f.Nb()}if(2&e){var n=t.row;f.xb(1),f.tc(n.prod_id)}}function z(e,t){if(1&e){var o=f.Pb();f.Ob(0,"a",42),f.Wb("click",(function(){f.jc(o);var e=t.row;return f.Yb().toggleExpandRow(e)})),f.sc(1),f.Nb()}if(2&e){var n=t.row;f.xb(1),f.tc(n.prod_name)}}function E(e,t){if(1&e){var o=f.Pb();f.Ob(0,"a",42),f.Wb("click",(function(){f.jc(o);var e=t.row;return f.Yb().toggleExpandRow(e)})),f.sc(1),f.Nb()}if(2&e){var n=t.row;f.xb(1),f.tc(0===n.prod_type?"Single":"Weight")}}function Y(e,t){if(1&e){var o=f.Pb();f.Ob(0,"a",42),f.Wb("click",(function(){f.jc(o);var e=t.row;return f.Yb().toggleExpandRow(e)})),f.sc(1),f.Nb()}if(2&e){var n=t.row;f.xb(1),f.tc(n.prod_price)}}function K(e,t){if(1&e){var o=f.Pb();f.Ob(0,"a",42),f.Wb("click",(function(){f.jc(o);var e=t.row;return f.Yb().toggleExpandRow(e)})),f.sc(1),f.Nb()}if(2&e){var n=t.row;f.xb(1),f.tc(n.prod_stock)}}var D,F,$,R=[{path:"",component:(D=function(){function t(e,o,i,r){n(this,t),this.productsService=e,this.cdr=o,this.auth=i,this.modalController=r,this.products=[],this.columnMode=u.a.force,this.pageNumber=0,this.numPerPage=25,this.loading=!1,this.total=0,this.role=p.a.Empty,this.search="",this.dir="asc",this.edit=!1,this.sortBy="prod_name",this.relations="",this.searchColumns=["prod_name","prod_desc"],this.queries=[],this.columns=[{name:"ID",value:"prod_id"},{name:"Name",value:"prod_name"},{name:"Description",value:"prod_desc"},{name:"Image",value:"prod_img"},{name:"Features",value:"prod_feat"},{name:"Dimensions",value:"prod_dim"},{name:"Type",value:"prod_type"},{name:"Price",value:"prod_price"},{name:"Stock",value:"prod_stock"},{name:"Rating",value:"prod_rating"}],this.setPage({offset:0}),this.role=this.auth.getRole(),this.edit=-1===[0,1,2,4,8].indexOf(this.role)}return r(t,[{key:"addQuery",value:function(){this.queries.push({column:"prod_name",operators:[{name:"Equals",value:"="},{name:"Not Equal",value:"!="},{name:"Contains",value:"%"},{name:"Does not contain",value:"!%"}],operator:"%",operatesOn:["value","column"],operateOn:"value",operateValue:""})}},{key:"removeQuery",value:function(e){this.queries.splice(e,1)}},{key:"ngOnInit",value:function(){}},{key:"setPage",value:function(t){var o=this;this.pageNumber=t.offset,this.loading=!0,this.queries.length>0?this.productsService.filterProducts(this.pageNumber,this.numPerPage,this.dir,this.sortBy,this.search,this.searchColumns,this.queries,this.relations).subscribe((function(t){o.products=t.data,o.products=e(o.products),o.total=t.total,o.loading=!1,o.cdr.detectChanges()})):this.productsService.getProducts(this.pageNumber,this.numPerPage,this.dir,this.sortBy,this.search,this.searchColumns).subscribe((function(t){o.products=t.data,o.products=e(o.products),o.total=t.total,o.loading=!1,o.cdr.detectChanges()}))}},{key:"reset",value:function(){this.pageNumber=0,this.numPerPage=25,this.loading=!1,this.total=0,this.search="",this.dir="asc",this.sortBy="prod_name",this.queries=[],this.searchColumns=["prod_name","prod_desc"],this.relations="",this.setPage({offset:0})}},{key:"sort",value:function(e){this.loading=!0,this.sortBy=e.sorts[0].prop,this.dir=e.sorts[0].dir,this.setPage({offset:0})}},{key:"toggleExpandRow",value:function(e){this.table.rowDetail.toggleExpandRow(e),this.cdr.detectChanges()}},{key:"detailed",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:x,cssClass:"view-order",componentProps:{product:e,edit:!this.edit}});case 2:return o=t.sent,t.next=5,o.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"columnChange",value:function(e){switch(this.queries[e].column){case"prod_id":case"prod_desc":case"prod_img":case"prod_name":this.queries[e].operators=[{name:"Equals",value:"="},{name:"Not Equal",value:"!="},{name:"Contains",value:"%"},{name:"Does not contain",value:"!%"}],this.queries[e].operator="%",this.queries[e].operatesOn=["value","column"],this.queries[e].operateOn="value",this.queries[e].operateValue="";break;case"prod_stock":case"prod_price":this.queries[e].operators=[{name:"Equals",value:"="},{name:"Not Equal",value:"!="},{name:"Greater than",value:">"},{name:"Less than",value:"<"},{name:"Greater than or equal",value:">="},{name:"Less than or equal",value:"<="},{name:"Range",value:"<>"}],this.queries[e].operator="=",this.queries[e].operatesOn=["value"],this.queries[e].operateOn="value",this.queries[e].operateValue=""}}}]),t}(),D.\u0275fac=function(e){return new(e||D)(f.Jb(h.a),f.Jb(f.h),f.Jb(_.a),f.Jb(l.I))},D.\u0275cmp=f.Db({type:D,selectors:[["app-products"]],viewQuery:function(e,t){var o;1&e&&f.wc(w,!0),2&e&&f.gc(o=f.Xb())&&(t.table=o.first)},decls:56,vars:28,consts:[["slot","end"],["fill","clear",3,"click"],["name","close","slot","icon-only","color","danger"],["name","refresh","slot","icon-only"],[3,"keydown.enter"],["size","5"],["placeholder","Search",3,"ngModel","ngModelChange"],["size","4"],["placeholder","Search columns","multiple","true",3,"ngModel","ngModelChange"],["value","prod_id"],["value","prod_name"],["value","prod_desc"],["value","prod_price"],["value","prod_stock"],["value","prod_rating"],[4,"ngFor","ngForOf"],["position","floating"],[3,"ngModel","ngModelChange"],["size","7"],[1,"full-height","full-width","center-middle"],["fill","outline",3,"click"],[1,"material","expandable","margin",3,"rowHeight","rows","headerHeight","footerHeight","columnMode","trackByProp","count","externalPaging","offset","limit","externalSorting","loadingIndicator","scrollbarH","reorderable","page","sort"],["table",""],["rowHeight","auto"],["ngx-datatable-row-detail-template",""],["prop","prod_id","name","ID",3,"resizeable","sortable"],["ngx-datatable-cell-template",""],["prop","prod_name","name","Name",3,"resizeable","sortable"],["prop","prod_type","name","Type",3,"resizeable","sortable"],["prop","prod_price","name","Price",3,"resizeable","sortable"],["prop","prod_stock","name","Stock",3,"resizeable","sortable"],["size","1"],["size","2"],["interface","popover",3,"ngModel","ngModelChange","ionChange"],[3,"value",4,"ngFor","ngForOf"],["size","3"],["interface","popover",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"full-width","full-height","center-middle"],[3,"value"],["type","text",3,"ngModel","ngModelChange"],[2,"user-select","text","-webkit-user-select","text","margin","0.5em","width","100%"],[1,"table-link",3,"click"]],template:function(e,t){1&e&&(f.Ob(0,"ion-header"),f.Ob(1,"ion-toolbar"),f.Ob(2,"ion-title"),f.sc(3,"Products"),f.Nb(),f.Ob(4,"ion-buttons",0),f.Ob(5,"ion-button",1),f.Wb("click",(function(){return t.reset()})),f.Kb(6,"ion-icon",2),f.Nb(),f.Ob(7,"ion-button",1),f.Wb("click",(function(){return t.setPage({offset:0})})),f.Kb(8,"ion-icon",3),f.Nb(),f.Nb(),f.Nb(),f.Nb(),f.Ob(9,"ion-content",4),f.Wb("keydown.enter",(function(){return t.setPage({offset:0})})),f.Ob(10,"ion-grid"),f.Ob(11,"ion-row"),f.Ob(12,"ion-col",5),f.Ob(13,"ion-searchbar",6),f.Wb("ngModelChange",(function(e){return t.search=e})),f.Nb(),f.Nb(),f.Ob(14,"ion-col",7),f.Ob(15,"ion-select",8),f.Wb("ngModelChange",(function(e){return t.searchColumns=e})),f.Ob(16,"ion-select-option",9),f.sc(17,"ID"),f.Nb(),f.Ob(18,"ion-select-option",10),f.sc(19,"Name"),f.Nb(),f.Ob(20,"ion-select-option",11),f.sc(21,"Description"),f.Nb(),f.Ob(22,"ion-select-option",12),f.sc(23,"Price"),f.Nb(),f.Ob(24,"ion-select-option",13),f.sc(25,"Stock"),f.Nb(),f.Ob(26,"ion-select-option",14),f.sc(27,"Rating"),f.Nb(),f.Nb(),f.Nb(),f.Nb(),f.qc(28,j,30,9,"ion-row",15),f.Ob(29,"ion-row"),f.Ob(30,"ion-col",5),f.Ob(31,"ion-item"),f.Ob(32,"ion-label",16),f.sc(33,"Relation between queries"),f.Nb(),f.Ob(34,"ion-textarea",17),f.Wb("ngModelChange",(function(e){return t.relations=e})),f.Nb(),f.Nb(),f.Nb(),f.Ob(35,"ion-col",18),f.Ob(36,"div",19),f.Ob(37,"ion-buttons"),f.Ob(38,"ion-button",20),f.Wb("click",(function(){return t.addQuery()})),f.sc(39," Add query "),f.Nb(),f.Ob(40,"ion-button",20),f.Wb("click",(function(){return t.setPage({offset:0})})),f.sc(41," Search "),f.Nb(),f.Nb(),f.Nb(),f.Nb(),f.Nb(),f.Nb(),f.Ob(42,"ngx-datatable",21,22),f.Wb("page",(function(e){return t.setPage(e)}))("sort",(function(e){return t.sort(e)})),f.Ob(44,"ngx-datatable-row-detail",23),f.qc(45,S,7,2,"ng-template",24),f.Nb(),f.Ob(46,"ngx-datatable-column",25),f.qc(47,I,2,1,"ng-template",26),f.Nb(),f.Ob(48,"ngx-datatable-column",27),f.qc(49,z,2,1,"ng-template",26),f.Nb(),f.Ob(50,"ngx-datatable-column",28),f.qc(51,E,2,1,"ng-template",26),f.Nb(),f.Ob(52,"ngx-datatable-column",29),f.qc(53,Y,2,1,"ng-template",26),f.Nb(),f.Ob(54,"ngx-datatable-column",30),f.qc(55,K,2,1,"ng-template",26),f.Nb(),f.Nb(),f.Nb()),2&e&&(f.xb(13),f.dc("ngModel",t.search),f.xb(2),f.dc("ngModel",t.searchColumns),f.xb(13),f.dc("ngForOf",t.queries),f.xb(6),f.dc("ngModel",t.relations),f.xb(8),f.dc("rowHeight",50)("rows",t.products)("headerHeight",50)("footerHeight",50)("columnMode",t.columnMode)("trackByProp","updated")("count",t.total)("externalPaging",!0)("offset",t.pageNumber)("limit",t.numPerPage)("externalSorting",!0)("loadingIndicator",t.loading)("scrollbarH",!0)("reorderable",!0),f.xb(4),f.dc("resizeable",!0)("sortable",!0),f.xb(2),f.dc("resizeable",!0)("sortable",!0),f.xb(2),f.dc("resizeable",!0)("sortable",!0),f.xb(2),f.dc("resizeable",!0)("sortable",!0),f.xb(2),f.dc("resizeable",!0)("sortable",!0))},directives:[l.k,l.E,l.C,l.d,l.c,l.l,l.h,l.j,l.v,l.g,l.w,l.N,b.g,b.i,l.x,l.M,l.y,c.j,l.n,l.o,l.B,u.d,u.e,u.f,u.c,u.b,c.k,l.m],styles:["[_nghost-%COMP%]     ngx-datatable .datatable-scroll, [_nghost-%COMP%]     ngx-datatable .datatable-scroller{width:100%!important}"]}),D)}],B=(($=function e(){n(this,e)}).\u0275mod=f.Hb({type:$}),$.\u0275inj=f.Gb({factory:function(e){return new(e||$)},imports:[[d.j.forChild(R)],d.j]}),$),H=((F=function e(){n(this,e)}).\u0275mod=f.Hb({type:F}),F.\u0275inj=f.Gb({factory:function(e){return new(e||F)},imports:[[c.c,b.d,l.F,B,u.g]]}),F)}}])}();
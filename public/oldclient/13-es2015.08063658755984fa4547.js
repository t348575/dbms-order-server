(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"ct+p":function(o,t,n){"use strict";n.r(t),n.d(t,"HomePageModule",(function(){return h}));var r=n("ofXK"),i=n("TEn/"),c=n("3Pt+"),e=n("tyNb"),s=n("2g2N"),a=n("fXoL"),b=n("S3Px"),d=n("c14U");const l=function(o){return["/product-display",o]};function p(o,t){if(1&o){const o=a.Lb();a.Kb(0,"ion-card",6),a.Kb(1,"ion-card-content",7),a.Ib(2,"img",8),a.Jb(),a.Kb(3,"ion-card-header"),a.Kb(4,"ion-card-title"),a.fc(5),a.Kb(6,"ion-button",9),a.Sb("click",(function(){a.bc(o);const n=t.$implicit;return a.Ub(2).addToCart(n)})),a.Ib(7,"ion-icon",10),a.Jb(),a.Jb(),a.Jb(),a.Jb()}if(2&o){const o=t.$implicit;a.xb(1),a.Xb("routerLink",a.Zb(4,l,o.prod_id)),a.xb(1),a.Xb("src",o.prod_img,a.cc),a.xb(3),a.hc(" ",o.prod_name," "),a.xb(1),a.Xb("disabled",0===o.prod_stock)}}function u(o,t){if(1&o&&(a.Kb(0,"ion-row",4),a.ec(1,p,8,6,"ion-card",5),a.Jb()),2&o){const o=t.$implicit;a.xb(1),a.Xb("ngForOf",o)}}const f=[{path:"",component:(()=>{class o{constructor(o,t){this.products=o,this.cart=t,this.prod=[],this.pageNum=0,this.products.browse(this.pageNum,25).subscribe(o=>{for(this.pageNum++;o.length>0;)this.prod.push(o.splice(0,5))},o=>{console.log(o)})}addToCart(o){for(const t of this.cart.getCartStatic())if(t.product.prod_id===o.prod_id){if(t.count+1>o.prod_stock)return void s.a.toast("Product stock low!",3e3,"danger");break}this.cart.addToCart(o)}loadData(o){this.products.browse(this.pageNum,25).subscribe(t=>{for(this.pageNum++;t.length>0;)this.prod.push(t.splice(0,5));console.log(this.prod),o.target.complete()},o=>{console.log(o)})}}return o.\u0275fac=function(t){return new(t||o)(a.Hb(b.a),a.Hb(d.a))},o.\u0275cmp=a.Bb({type:o,selectors:[["app-home"]],decls:9,vars:1,consts:[["size","4","offset","4",1,"center-horizontal"],["class","center-horizontal",4,"ngFor","ngForOf"],[3,"ionInfinite"],["loading-spinner","default"],[1,"center-horizontal"],["class","browse-card from-bottom",4,"ngFor","ngForOf"],[1,"browse-card","from-bottom"],[1,"center-horizontal","grow-img",3,"routerLink"],["onerror","this.src='assets/alt-img.jpg'",2,"max-width","80px",3,"src"],["fill","clear",3,"disabled","click"],["name","add-circle","slot","icon-only"]],template:function(o,t){1&o&&(a.Kb(0,"ion-content"),a.Kb(1,"ion-grid"),a.Kb(2,"ion-row"),a.Kb(3,"ion-col",0),a.Kb(4,"h1"),a.fc(5,"Browse latest products!"),a.Jb(),a.Jb(),a.Jb(),a.ec(6,u,2,1,"ion-row",1),a.Jb(),a.Kb(7,"ion-infinite-scroll",2),a.Sb("ionInfinite",(function(o){return t.loadData(o)})),a.Ib(8,"ion-infinite-scroll-content",3),a.Jb(),a.Jb()),2&o&&(a.xb(6),a.Xb("ngForOf",t.prod))},directives:[i.l,i.o,i.z,i.k,r.i,i.s,i.t,i.g,i.h,i.N,e.h,i.i,i.j,i.e,i.q],styles:[".browse-card[_ngcontent-%COMP%]{width:calc(100vw / 6)}.from-bottom[_ngcontent-%COMP%]{display:flex;flex-direction:column}.grow-img[_ngcontent-%COMP%]{flex-grow:1}"]}),o})()}];let g=(()=>{class o{}return o.\u0275mod=a.Fb({type:o}),o.\u0275inj=a.Eb({factory:function(t){return new(t||o)},imports:[[e.i.forChild(f)],e.i]}),o})(),h=(()=>{class o{}return o.\u0275mod=a.Fb({type:o}),o.\u0275inj=a.Eb({factory:function(t){return new(t||o)},imports:[[r.b,c.f,i.I,g]]}),o})()}}]);
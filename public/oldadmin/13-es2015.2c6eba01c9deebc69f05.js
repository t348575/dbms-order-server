(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{X3zk:function(t,o,e){"use strict";e.r(o),e.d(o,"LoginPageModule",(function(){return m}));var n=e("ofXK"),r=e("3Pt+"),i=e("TEn/"),s=e("tyNb"),a=e("2g2N"),u=e("fXoL"),l=e("lGQG");const c=[{path:"",component:(()=>{class t{constructor(t,o,e){this.formBuilder=t,this.auth=o,this.router=e,this.form=t.group({username:["",[r.k.required]],password:["",[r.k.required]]}),this.auth.isLoggedIn()&&this.router.navigate(["/home"]).then().catch()}ngOnInit(){}login(){if(this.form.valid){try{const t=parseInt(this.form.get("username").value,10);if(isNaN(t))throw new Error("")}catch(t){-1===this.form.get("username").value.indexOf("@toolshed.com")&&this.form.get("username").setValue(this.form.get("username").value+"@toolshed.com")}this.auth.login(this.form.get("username").value,this.form.get("password").value).subscribe(t=>{t?(this.router.navigate(["/home"]).then().catch(),this.form.reset()):a.a.toast("Improper login or password",3e3,"danger")})}else a.a.toast("Fill in the details correctly!",3e3,"danger")}}return t.\u0275fac=function(o){return new(o||t)(u.Jb(r.a),u.Jb(l.a),u.Jb(s.h))},t.\u0275cmp=u.Db({type:t,selectors:[["app-login"]],decls:19,vars:1,consts:[[1,"full-width","full-height"],["size","4","offset","4",1,"form"],[1,"full-width"],[3,"formGroup","ngSubmit"],[1,"login"],["position","floating"],["type","text","formControlName","username"],["type","password","formControlName","password"],["type","submit",1,"ion-float-right","login-button"]],template:function(t,o){1&t&&(u.Ob(0,"ion-content"),u.Ob(1,"ion-grid",0),u.Ob(2,"ion-row",0),u.Ob(3,"ion-col",1),u.Ob(4,"ion-card",2),u.Ob(5,"ion-card-content"),u.Ob(6,"form",3),u.Wb("ngSubmit",(function(){return o.login()})),u.Ob(7,"ion-title",4),u.sc(8,"Login"),u.Nb(),u.Ob(9,"ion-item"),u.Ob(10,"ion-label",5),u.sc(11,"Username"),u.Nb(),u.Kb(12,"ion-input",6),u.Nb(),u.Ob(13,"ion-item"),u.Ob(14,"ion-label",5),u.sc(15,"Password"),u.Nb(),u.Kb(16,"ion-input",7),u.Nb(),u.Ob(17,"ion-button",8),u.sc(18,"Login"),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Nb()),2&t&&(u.xb(6),u.dc("formGroup",o.form))},directives:[i.h,i.j,i.v,i.g,i.e,i.f,r.l,r.h,r.c,i.B,i.n,i.o,i.m,i.M,r.g,r.b,i.c],styles:[".login[_ngcontent-%COMP%]{font-size:2em;margin-bottom:1em}.form[_ngcontent-%COMP%]{display:flex;align-items:center}.login-button[_ngcontent-%COMP%]{margin-top:1em}"]}),t})()}];let b=(()=>{class t{}return t.\u0275mod=u.Hb({type:t}),t.\u0275inj=u.Gb({factory:function(o){return new(o||t)},imports:[[s.j.forChild(c)],s.j]}),t})(),m=(()=>{class t{}return t.\u0275mod=u.Hb({type:t}),t.\u0275inj=u.Gb({factory:function(o){return new(o||t)},imports:[[n.c,r.d,i.E,b,r.j]]}),t})()}}]);